#!/bin/sh
sudo perf record -e L1-dcache-load-misses,L1-dcache-loads,L1-dcache-prefetches -g -o misc/ordinary.perf build/bin/ordinary conf/in.conf >misc/ordinary.out.txt
sudo perf record -e L1-dcache-load-misses,L1-dcache-loads,L1-dcache-prefetches -g -o misc/recur-eliminate.perf build/bin/recur-eliminate conf/in.conf >misc/recur-eliminate.out.txt
sudo perf record -e L1-dcache-load-misses,L1-dcache-loads,L1-dcache-prefetches -g -o misc/recursion.perf build/bin/recursion conf/in.conf >misc/recursion.out.txt
sudo perf record -e L1-dcache-load-misses,L1-dcache-loads,L1-dcache-prefetches -g -o misc/unroll-2.perf build/bin/unroll-2 conf/in.conf >misc/unroll-2.out.txt
sudo perf record -e L1-dcache-load-misses,L1-dcache-loads,L1-dcache-prefetches -g -o misc/unroll-4.perf build/bin/unroll-4 conf/in.conf >misc/unroll-4.out.txt
sudo perf record -e L1-dcache-load-misses,L1-dcache-loads,L1-dcache-prefetches -g -o misc/unroll-8.perf build/bin/unroll-8 conf/in.conf >misc/unroll-8.out.txt
